{"ast":null,"code":"var _jsxFileName = \"/home/daniel/workspace/react-schulung/react-workshop/src/App.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport DeviceList from 'components/Device/DeviceList';\n\nconst useDeviceState = () => {\n  const [devices, setDevices] = useState([]);\n  return [devices, setDevices];\n};\n\nconst useDevices = () => {\n  const devices = useDevices();\n  fetch(\"/datasource/devices.json\", requestOptions).then(response => response.json()).then(data => setDevices(Object.values(data.devices)));\n  return /*#__PURE__*/React.createElement(DeviceList, {\n    devices: devices,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  });\n};\n\nfunction Welcome(props) {\n  const [messages, setMessages] = useState([]);\n  const [devices, setDevices] = useDeviceState();\n\n  const handleSubmit = submittedMessage => {\n    setMessages([...messages, submittedMessage]);\n  };\n\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  useEffect(() => {\n    fetch(\"/datasource/devices.json\", requestOptions).then(response => response.json()).then(data => setDevices(Object.values(data.devices)));\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DeviceList, {\n    devices: devices,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/home/daniel/workspace/react-schulung/react-workshop/src/App.tsx"],"names":["React","useState","useEffect","DeviceList","useDeviceState","devices","setDevices","useDevices","fetch","requestOptions","then","response","json","data","Object","values","Welcome","props","messages","setMessages","handleSubmit","submittedMessage","method","headers"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAOA,OAAOC,UAAP,MAAuB,8BAAvB;;AAGA,MAAMC,cAAc,GAAG,MAAgC;AACnD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAW,EAAX,CAAtC;AAEA,SAAO,CAACI,OAAD,EAAUC,UAAV,CAAP;AACH,CAJD;;AAMA,MAAMC,UAAU,GAAG,MAAM;AACrB,QAAMF,OAAO,GAAGE,UAAU,EAA1B;AAEAC,EAAAA,KAAK,CAAC,0BAAD,EAA6BC,cAA7B,CAAL,CACSC,IADT,CACeC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAD5B,EAESF,IAFT,CAEeG,IAAD,IAAUP,UAAU,CAACQ,MAAM,CAACC,MAAP,CAAcF,IAAI,CAACR,OAAnB,CAAD,CAFlC;AAIH,sBAAO,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACA,CARD;;AAUA,SAASW,OAAT,CAAiBC,KAAjB,EAA0C;AACtC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAY,EAAZ,CAAxC;AACA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBF,cAAc,EAA5C;;AAEA,QAAMgB,YAAY,GAAIC,gBAAD,IAA+B;AAAEF,IAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcG,gBAAd,CAAD,CAAX;AAA8C,GAApG;;AAEA,QAAMZ,cAAc,GAAG;AACnBa,IAAAA,MAAM,EAAE,KADW;AAEnBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB;AAFU,GAAvB;AAKArB,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,KAAK,CAAC,0BAAD,EAA6BC,cAA7B,CAAL,CACKC,IADL,CACWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADxB,EAEKF,IAFL,CAEWG,IAAD,IAAUP,UAAU,CAACQ,MAAM,CAACC,MAAP,CAAcF,IAAI,CAACR,OAAnB,CAAD,CAF9B;AAGH,GAJQ,EAIN,EAJM,CAAT;AAMA,sBACI,uDACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH;;AAED,eAAeW,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MessageView from 'components/MessageView';\nimport DeviceView from 'components/Device/DeviceView';\nimport { Message } from 'Domain/Message';\nimport { Device } from 'Domain/Device';\nimport MessageCompose from 'components/MessageCompose';\nimport MessageList from 'components/MessageList';\nimport DeviceList from 'components/Device/DeviceList';\n\ntype DeviceSetter = (devices: Device[]) => void\nconst useDeviceState = (): [Device[], DeviceSetter] => {\n    const [devices, setDevices] = useState<Device[]>([]);\n\n    return [devices, setDevices]\n}\n\nconst useDevices = () => {\n    const devices = useDevices();\n\n    fetch(\"/datasource/devices.json\", requestOptions)\n            .then((response) => response.json())\n            .then((data) => setDevices(Object.values(data.devices)));\n\n\treturn <DeviceList devices={devices} />\n}\n\nfunction Welcome(props: any): JSX.Element {\n    const [messages, setMessages] = useState<Message[]>([]);\n    const [devices, setDevices] = useDeviceState();\n\n    const handleSubmit = (submittedMessage: Message) => { setMessages([...messages, submittedMessage]) };\n\n    const requestOptions = {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' },\n    };\n\n    useEffect(() => {\n        fetch(\"/datasource/devices.json\", requestOptions)\n            .then((response) => response.json())\n            .then((data) => setDevices(Object.values(data.devices)));\n    }, []);\n\n    return (\n        <>\n            <DeviceList devices={devices} />\n        </>\n    );\n}\n\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}